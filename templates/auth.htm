<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/auth.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/quiz.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="total">
        <div class="left">
            <img class="imageo" src="image/quiz.png" onclick="window.location.href='quiz.htm';">
            <div class="hedone">
            <h3>Welecome back!</h3>
            <h4 class="title">Signup</h4>
            </div>
            <div class="hedtwo">
                <form id="auth-form">
                    <div class="inner">
                        <div class="sep">
                            <input type="text" id="email" name="email" placeholder="Enter your email" required>
                            <input type="password" id="password" name="password" placeholder="Password" required>
                        </div>
                        <label>
                            <input type="checkbox" name="age_verification" required>
                            I confirm that I am 18 years of age or older.
                        </label>
                        <div>
                            <label>
                                <input type="checkbox" id="show-password"> Show Password
                            </label>
                        </div>
                        <button type="submit" class="titlechange">Signup</button>
                    </div>
                </form>
                
                <script>
                    // Add event listener to the form submission
                    document.getElementById("auth-form").addEventListener("submit", function(event) {
                        // Prevent form submission to perform validation first
                        event.preventDefault();
                
                        // Get values of the email, password, and checkbox
                        const email = document.getElementById("email").value;
                        const password = document.getElementById("password").value;
                        const ageVerification = document.querySelector('input[name="age_verification"]:checked');
                
                        // Regular expression for validating email format
                        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
                
                        // Check if email is valid
                        if (!emailPattern.test(email)) {
                            alert("Please enter a valid email address.");
                            return;
                        }
                
                        // Password Requirements:
                        // At least 8 characters, at least one uppercase letter, one lowercase letter, and one digit
                        const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;
                
                        // Check if password meets the requirements
                        if (!passwordPattern.test(password)) {
                            alert("Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one digit.");
                            return;
                        }
                
                        // Check if password is empty
                        if (password.trim() === "") {
                            alert("Password cannot be empty.");
                            return;
                        }
                
                        // Check if age verification checkbox is checked
                        if (!ageVerification) {
                            alert("Please confirm that you are 18 years of age or older.");
                            return;
                        }
                
                        // If everything is valid, proceed with form submission
                        window.location.href = 'home.htm';  // Redirect to the next page (home.htm)
                    });
                
                    // Toggle password visibility when checkbox is checked/unchecked
                    document.getElementById("show-password").addEventListener("change", function() {
                        const passwordField = document.getElementById("password");
                        if (this.checked) {
                            passwordField.type = "text";  // Show password
                        } else {
                            passwordField.type = "password";  // Hide password
                        }
                    });
                </script>
                
            </div>
            <div class="hedthree">
                <p id="change">Already have an accountâœ¨</p>
                <button id="changebutton">Login</button>
            </div>
            
        </div>
        <div class="right">
            <img src="/templates/image/vote.png"
        </div>
    </div>
    

    <script src="/js/auth.js"></script>
</body>
</html>